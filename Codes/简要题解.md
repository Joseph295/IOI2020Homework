##### AGC020D Min Max Repetition

最终串一点是前半部分 $k$ 个 `A` 一个 `B` 循环，后半部分一个 `A` $k$ 个 `B` 循环，二分求出这个分界线。

##### AGC020E Encoding Subsets

记 $f(S)$ 表示状态 $S$ 的答案，直接记搜。可证状态数很少，是 $O(N^3+2^{N/8})$ 的，因此能过。

##### AGC020F Arcs on a Circle

考虑每个线段放置的位置的小数部分，只有小数部分的相对顺序会影响答案，因此如果把每个长度为 $1$ 的线段拆成 $n$ 份来表示相对位置，每种位置只会被占一次。同时状压每种线段和每种位置即可。

##### AGC021E Ball Eat Chameleons

枚举 $R$ 和 $B$，首先 $R<B$ 无解，$R\ge B$ 时还需满足能从序列中找出 $N-(R-B)$ 个子序列 `RB`。如果画到平面上，就相当于不经过某条斜线的路径计数，这是卡特兰数经典题。需要注意特判 $R=B$ 时必须以 `B` 结尾。

##### AGC023F 01 on Tree

给每个节点设置一个权值 $R_i$ 是节点上 $0$ 的个数除以 $1$ 的个数，因此当前树上 $R$ 最大的点一定在其父节点之后，将其与父节点合并然后继续下一轮。

##### AGC027E ABBreviate

设 `a` 为 $1$，`b` 为 $2$，那么 $S$ 可以变成字符 $c$ 当且仅当 $S=c$，或者 $\mathrm{Sum}(S)\mod3 =c$ 且 $S$ 有至少两个相邻字符相同。考虑 $S$ 变成 $T$ 的过程相当于对 $S$ 做一个划分，因此 dp 即可。

##### AGC032C Three Circuits

首先图是个欧拉图，有度数 $\ge 6$ 的点有解，有三个度数 $=4$ 的点有解，有两个度数 $=4$ 的点时，只有这两个点各有一自环才有解。

##### AGC032D Rotation Sort

操作相当于把数扔到往左往右任意一个位置，因此选出不动的数以后剩下的数的方向是固定的，从小到大 dp 不动的数即可。

##### AGC032E Modulo Pairing

可以用调整法证明：存在一个分界点，前面是 $x+y<M$ 的匹配，后面是 $x+y\ge M$ 的匹配，且两边的匹配一定是第一个匹配最后一个，第二个匹配倒数第二个，以此类推。二分这个分界点即可。

##### AGC032F One Third

把所有点写成 $k\times \frac{1}{3}+\omega$ 的形式，并且把 $k$ 相同的称为同色的，这样问题变为 $[0,\frac{1}{3})$ 内有 $n$ 个点，求期望最近异色点对距离。

有结论为长度为 $1$ 的线段切成 $n$ 段，第 $k$ 短的线段期望长度是 $\frac{1}{n^2}+\frac{1}{n(n-1)}+\cdots +\frac{1}{n(n-k+1)}$，因此枚举第 $i$ 长的段是最长不同色段，答案还要乘上前 $i-1$ 段都不同色的概率 $3^{i-1}$。

##### CF585E Present for Vitalik the Philatelist 

用 $\mu$ 容斥求出 $\gcd=1$ 的子集个数，然后枚举 $x$，从所有 $\gcd > 1$ 的子集中减去与 $x$ 不互质的子集个数，也用 $\mu$ 容斥。